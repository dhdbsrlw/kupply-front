import React, { useState } from 'react';
import styled from 'styled-components';

const SettingButtonWrapper = styled.button`
  width: 30px;
  height: 30px;
  border-radius: 15px;
  transition: 0.25s ease-in-out;
  justify-content: center;
  align-items: center;

  &:disabled {
    cursor: not-allowed;
  }
  &:disabled > svg path {
    stroke-opacity: 0.445;
  }

  &:active:not(:disabled) {
    background-color: rgba(216, 88, 136, 0.2);
  }

  & > svg {
    width: 26px;
    height: 26px;
    padding-left: 2px;
    padding-top: 2px;
    transition: 0.25s ease-in-out;
    stroke: #141414;
  }

  &:hover:not(:disabled) > svg path {
    stroke: #d85888;
  }
  &:hover:not(:disabled) > svg > path {
    fill: rgba(216, 88, 136, 0.1);
  }
  &:hover:not(:disabled) > svg > path:nth-child(2) {
    fill: white;
  }

  &:active:not(:disabled) > svg > path {
    fill: rgba(216, 88, 136, 0.75);
  }
  &:active:not(:disabled) > svg > path:nth-child(2) {
    fill: rgba(255, 255, 255, 0.85);
  }
`;

export default function SettingButton(props: React.ComponentPropsWithoutRef<'button'>) {
  const [toggle, setToggle] = useState(false);
  const clickListener = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {
    alert('h');
    if (props.onClick) props.onClick(event);
    setToggle(!toggle);
  };
  return (
    <SettingButtonWrapper onClick={clickListener}>
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
        <path
          d="M20.2878 15.9545C20.1567 16.2516 20.1176 16.5811 20.1756 16.9005C20.2335 17.22 20.3858 17.5148 20.6128 17.7469L20.6719 17.806C20.8551 17.989 21.0003 18.2062 21.0995 18.4453C21.1986 18.6844 21.2496 18.9407 21.2496 19.1996C21.2496 19.4584 21.1986 19.7147 21.0995 19.9539C21.0003 20.193 20.8551 20.4102 20.6719 20.5931C20.489 20.7763 20.2718 20.9216 20.0326 21.0207C19.7935 21.1198 19.5372 21.1708 19.2784 21.1708C19.0195 21.1708 18.7632 21.1198 18.5241 21.0207C18.285 20.9216 18.0677 20.7763 17.8848 20.5931L17.8257 20.5341C17.5936 20.307 17.2988 20.1547 16.9793 20.0968C16.6598 20.0388 16.3303 20.078 16.0333 20.2091C15.742 20.3339 15.4936 20.5412 15.3186 20.8054C15.1436 21.0696 15.0497 21.3793 15.0484 21.6962V21.8636C15.0484 22.386 14.8409 22.887 14.4715 23.2564C14.1021 23.6258 13.6011 23.8333 13.0787 23.8333C12.5564 23.8333 12.0554 23.6258 11.686 23.2564C11.3166 22.887 11.1091 22.386 11.1091 21.8636V21.775C11.1014 21.449 10.9959 21.1328 10.8062 20.8676C10.6165 20.6024 10.3514 20.4004 10.0454 20.2878C9.74837 20.1567 9.41886 20.1176 9.09938 20.1756C8.7799 20.2335 8.4851 20.3858 8.25299 20.6128L8.1939 20.6719C8.01097 20.8551 7.79373 21.0003 7.55461 21.0995C7.3155 21.1986 7.05919 21.2496 6.80034 21.2496C6.54149 21.2496 6.28518 21.1986 6.04606 21.0995C5.80694 21.0003 5.58971 20.8551 5.40678 20.6719C5.22364 20.489 5.07836 20.2718 4.97924 20.0326C4.88011 19.7935 4.82909 19.5372 4.82909 19.2784C4.82909 19.0195 4.88011 18.7632 4.97924 18.5241C5.07836 18.285 5.22364 18.0677 5.40678 17.8848L5.46587 17.8257C5.69291 17.5936 5.84522 17.2988 5.90315 16.9793C5.96107 16.6598 5.92197 16.3303 5.79087 16.0333C5.66603 15.742 5.45873 15.4936 5.19451 15.3186C4.93028 15.1436 4.62066 15.0497 4.30375 15.0484H4.13632C3.61393 15.0484 3.11293 14.8409 2.74354 14.4715C2.37415 14.1021 2.16663 13.6011 2.16663 13.0787C2.16663 12.5564 2.37415 12.0554 2.74354 11.686C3.11293 11.3166 3.61393 11.1091 4.13632 11.1091H4.22496C4.55094 11.1014 4.86709 10.9959 5.1323 10.8062C5.39751 10.6165 5.59953 10.3514 5.71208 10.0454C5.84318 9.74837 5.88229 9.41886 5.82436 9.09938C5.76643 8.7799 5.61412 8.4851 5.38708 8.25299L5.32799 8.1939C5.14485 8.01097 4.99957 7.79373 4.90045 7.55461C4.80132 7.3155 4.7503 7.05919 4.7503 6.80034C4.7503 6.54149 4.80132 6.28518 4.90045 6.04606C4.99957 5.80694 5.14485 5.58971 5.32799 5.40678C5.51092 5.22364 5.72816 5.07836 5.96727 4.97924C6.20639 4.88011 6.4627 4.82909 6.72155 4.82909C6.9804 4.82909 7.23671 4.88011 7.47583 4.97924C7.71494 5.07836 7.93218 5.22364 8.11511 5.40678L8.1742 5.46587C8.40631 5.69291 8.70111 5.84522 9.02059 5.90315C9.34007 5.96107 9.66958 5.92197 9.96663 5.79087H10.0454C10.3367 5.66603 10.5851 5.45873 10.7601 5.19451C10.9351 4.93028 11.029 4.62066 11.0303 4.30375V4.13632C11.0303 3.61393 11.2378 3.11293 11.6072 2.74354C11.9766 2.37415 12.4776 2.16663 13 2.16663C13.5224 2.16663 14.0234 2.37415 14.3927 2.74354C14.7621 3.11293 14.9697 3.61393 14.9697 4.13632V4.22496C14.9709 4.54187 15.0648 4.8515 15.2398 5.11572C15.4148 5.37995 15.6632 5.58724 15.9545 5.71208C16.2516 5.84318 16.5811 5.88229 16.9005 5.82436C17.22 5.76643 17.5148 5.61412 17.7469 5.38708L17.806 5.32799C17.989 5.14485 18.2062 4.99957 18.4453 4.90045C18.6844 4.80132 18.9407 4.7503 19.1996 4.7503C19.4584 4.7503 19.7147 4.80132 19.9539 4.90045C20.193 4.99957 20.4102 5.14485 20.5931 5.32799C20.7763 5.51092 20.9216 5.72816 21.0207 5.96727C21.1198 6.20639 21.1708 6.4627 21.1708 6.72155C21.1708 6.9804 21.1198 7.23671 21.0207 7.47583C20.9216 7.71494 20.7763 7.93218 20.5931 8.11511L20.5341 8.1742C20.307 8.40631 20.1547 8.70111 20.0968 9.02059C20.0388 9.34007 20.078 9.66958 20.2091 9.96663V10.0454C20.3339 10.3367 20.5412 10.5851 20.8054 10.7601C21.0696 10.9351 21.3793 11.029 21.6962 11.0303H21.8636C22.386 11.0303 22.887 11.2378 23.2564 11.6072C23.6258 11.9766 23.8333 12.4776 23.8333 13C23.8333 13.5224 23.6258 14.0234 23.2564 14.3927C22.887 14.7621 22.386 14.9697 21.8636 14.9697H21.775C21.458 14.9709 21.1484 15.0648 20.8842 15.2398C20.62 15.4148 20.4127 15.6632 20.2878 15.9545V15.9545Z"
          stroke="#141414"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M13 16.25C14.7949 16.25 16.25 14.7949 16.25 13C16.25 11.2051 14.7949 9.75 13 9.75C11.2051 9.75 9.75 11.2051 9.75 13C9.75 14.7949 11.2051 16.25 13 16.25Z"
          stroke="#141414"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
      </svg>
      {toggle && <SettingToggleWrapper>323</SettingToggleWrapper>}
    </SettingButtonWrapper>
  );
}

const SettingToggleWrapper = styled.div`
  position: fixed;
  top: 84px;
  right: 100px;
  width: 394px;
  height: 490px;
  flex-shrink: 0;

  border-radius: 10px;
  background: rgba(255, 255, 255, 0.9);

  /* 5020 */
  box-shadow: 0px 20px 50px 0px rgba(223, 223, 223, 0.4);
  backdrop-filter: blur(9px);
`;
